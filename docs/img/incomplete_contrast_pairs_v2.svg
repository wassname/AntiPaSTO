<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   viewBox="0 0 720 380"
   version="1.1"
   id="svg1085"
   sodipodi:docname="incomplete_contrast_pairs_v2.svg"
   inkscape:version="1.2.2 (b0a8486541, 2022-12-01)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview1087"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     showgrid="false"
     inkscape:zoom="2.5495128"
     inkscape:cx="322.80678"
     inkscape:cy="197.68483"
     inkscape:window-width="2560"
     inkscape:window-height="1364"
     inkscape:window-x="0"
     inkscape:window-y="40"
     inkscape:window-maximized="1"
     inkscape:current-layer="g1059" />
  <defs
     id="defs923">
    <marker
       id="arr"
       markerWidth="6"
       markerHeight="5"
       refX="5"
       refY="2.5"
       orient="auto">
      <polygon
         points="0 0, 6 2.5, 0 5"
         fill="#6b7280"
         id="polygon914" />
    </marker>
    <marker
       id="arr-g"
       markerWidth="6"
       markerHeight="5"
       refX="5"
       refY="2.5"
       orient="auto">
      <polygon
         points="0 0, 6 2.5, 0 5"
         fill="#16a34a"
         id="polygon917" />
    </marker>
    <marker
       id="arr-p"
       markerWidth="6"
       markerHeight="5"
       refX="5"
       refY="2.5"
       orient="auto">
      <polygon
         points="0 0, 6 2.5, 0 5"
         fill="#db2777"
         id="polygon920" />
    </marker>
  </defs>
  <!-- Background -->
  <rect
     width="720"
     height="380"
     fill="#fafafa"
     id="rect925" />
  <!-- ===== STAGE 1: Incomplete contrast pairs (boxed aligned tokens) ===== -->
  <text
     x="20"
     y="24"
     font-family="system-ui, sans-serif"
     font-size="12"
     font-weight="600"
     fill="#374151"
     id="text927">① Incomplete contrast pairs</text>
  <!-- Token width: 48px each, aligned vertically -->
  <!-- Chosen prefix (top row) -->
  <g
     transform="translate(36,38)"
     id="g965">
    <!-- "You" -->
    <rect
       x="-14"
       y="0"
       width="36"
       height="26"
       rx="3"
       fill="#e5e7eb"
       stroke="#9ca3af"
       stroke-width="1"
       id="rect929" />
    <text
       x="4"
       y="17"
       text-anchor="middle"
       font-family="monospace"
       font-size="9px"
       fill="#374151"
       id="text931">You</text>
    <!-- "are" -->
    <rect
       x="26"
       y="0"
       width="32"
       height="26"
       rx="3"
       fill="#e5e7eb"
       stroke="#9ca3af"
       stroke-width="1"
       id="rect933" />
    <text
       x="42"
       y="17"
       text-anchor="middle"
       font-family="monospace"
       font-size="9px"
       fill="#374151"
       id="text935">are</text>
    <!-- "honest" - DIFFERS -->
    <rect
       x="61.779675"
       y="0.12213071"
       width="66.098198"
       height="25.755737"
       rx="3.8133576"
       fill="#dcfce7"
       stroke="#16a34a"
       stroke-width="2.24426"
       id="rect937" />
    <text
       x="94.811455"
       y="16.459097"
       text-anchor="middle"
       font-family="monospace"
       font-size="9px"
       font-weight="700"
       fill="#166534"
       id="text939">honest</text>
    <!-- "." -->
    <rect
       x="132"
       y="0"
       width="18"
       height="26"
       rx="3"
       fill="#e5e7eb"
       stroke="#9ca3af"
       stroke-width="1"
       id="rect941" />
    <text
       x="141"
       y="17"
       text-anchor="middle"
       font-family="monospace"
       font-size="9px"
       fill="#374151"
       id="text943">.</text>
    <!-- "The" -->
    <rect
       x="154"
       y="0"
       width="32"
       height="26"
       rx="3"
       fill="#e5e7eb"
       stroke="#9ca3af"
       stroke-width="1"
       id="rect945" />
    <text
       x="170"
       y="17"
       text-anchor="middle"
       font-family="monospace"
       font-size="9px"
       fill="#374151"
       id="text947">The</text>
    <!-- "capital" -->
    <rect
       x="190"
       y="0"
       width="52"
       height="26"
       rx="3"
       fill="#e5e7eb"
       stroke="#9ca3af"
       stroke-width="1"
       id="rect949" />
    <text
       x="216"
       y="17"
       text-anchor="middle"
       font-family="monospace"
       font-size="9px"
       fill="#374151"
       id="text951">capital</text>
    <!-- "of" -->
    <rect
       x="246"
       y="0"
       width="24"
       height="26"
       rx="3"
       fill="#e5e7eb"
       stroke="#9ca3af"
       stroke-width="1"
       id="rect953" />
    <text
       x="258"
       y="17"
       text-anchor="middle"
       font-family="monospace"
       font-size="9px"
       fill="#374151"
       id="text955">of</text>
    <!-- "France" -->
    <rect
       x="274"
       y="0"
       width="48"
       height="26"
       rx="3"
       fill="#e5e7eb"
       stroke="#9ca3af"
       stroke-width="1"
       id="rect957" />
    <text
       x="298"
       y="17"
       text-anchor="middle"
       font-family="monospace"
       font-size="9px"
       fill="#374151"
       id="text959">France</text>
    <!-- "is" -->
    <rect
       x="326"
       y="0"
       width="24"
       height="26"
       rx="3"
       fill="#e5e7eb"
       stroke="#9ca3af"
       stroke-width="1"
       id="rect961" />
    <text
       x="338"
       y="17"
       text-anchor="middle"
       font-family="monospace"
       font-size="9px"
       fill="#374151"
       id="text963">is</text>
  </g>
  <!-- Rejected prefix (bottom row) - aligned -->
  <g
     transform="translate(20,80)"
     id="g1003">
    <!-- "You" -->
    <rect
       x="0"
       y="0"
       width="36"
       height="26"
       rx="3"
       fill="#e5e7eb"
       stroke="#9ca3af"
       stroke-width="1"
       id="rect967" />
    <text
       x="18"
       y="17"
       text-anchor="middle"
       font-family="monospace"
       font-size="9px"
       fill="#374151"
       id="text969">You</text>
    <!-- "are" -->
    <rect
       x="40"
       y="0"
       width="32"
       height="26"
       rx="3"
       fill="#e5e7eb"
       stroke="#9ca3af"
       stroke-width="1"
       id="rect971" />
    <text
       x="56"
       y="17"
       text-anchor="middle"
       font-family="monospace"
       font-size="9px"
       fill="#374151"
       id="text973">are</text>
    <!-- "dishonest" - DIFFERS (wider) -->
    <rect
       x="76"
       y="0"
       width="68"
       height="26"
       rx="3"
       fill="#fce7f3"
       stroke="#db2777"
       stroke-width="2"
       id="rect975" />
    <text
       x="110"
       y="17"
       text-anchor="middle"
       font-family="monospace"
       font-size="9px"
       font-weight="700"
       fill="#9d174d"
       id="text977">dishonest</text>
    <!-- "." -->
    <rect
       x="148"
       y="0"
       width="18"
       height="26"
       rx="3"
       fill="#e5e7eb"
       stroke="#9ca3af"
       stroke-width="1"
       id="rect979" />
    <text
       x="157"
       y="17"
       text-anchor="middle"
       font-family="monospace"
       font-size="9px"
       fill="#374151"
       id="text981">.</text>
    <!-- "The" -->
    <rect
       x="170"
       y="0"
       width="32"
       height="26"
       rx="3"
       fill="#e5e7eb"
       stroke="#9ca3af"
       stroke-width="1"
       id="rect983" />
    <text
       x="186"
       y="17"
       text-anchor="middle"
       font-family="monospace"
       font-size="9px"
       fill="#374151"
       id="text985">The</text>
    <!-- "capital" -->
    <rect
       x="206"
       y="0"
       width="52"
       height="26"
       rx="3"
       fill="#e5e7eb"
       stroke="#9ca3af"
       stroke-width="1"
       id="rect987" />
    <text
       x="232"
       y="17"
       text-anchor="middle"
       font-family="monospace"
       font-size="9px"
       fill="#374151"
       id="text989">capital</text>
    <!-- "of" -->
    <rect
       x="262"
       y="0"
       width="24"
       height="26"
       rx="3"
       fill="#e5e7eb"
       stroke="#9ca3af"
       stroke-width="1"
       id="rect991" />
    <text
       x="274"
       y="17"
       text-anchor="middle"
       font-family="monospace"
       font-size="9px"
       fill="#374151"
       id="text993">of</text>
    <!-- "France" -->
    <rect
       x="290"
       y="0"
       width="48"
       height="26"
       rx="3"
       fill="#e5e7eb"
       stroke="#9ca3af"
       stroke-width="1"
       id="rect995" />
    <text
       x="314"
       y="17"
       text-anchor="middle"
       font-family="monospace"
       font-size="9px"
       fill="#374151"
       id="text997">France</text>
    <!-- "is" -->
    <rect
       x="342"
       y="0"
       width="24"
       height="26"
       rx="3"
       fill="#e5e7eb"
       stroke="#9ca3af"
       stroke-width="1"
       id="rect999" />
    <text
       x="354"
       y="17"
       text-anchor="middle"
       font-family="monospace"
       font-size="9px"
       fill="#374151"
       id="text1001">is</text>
  </g>
  <!-- Bracket showing "differ by 1 token" -->
  <path
     d="m 163.70435,59.392753 v 3.922373 h 221.12921"
     stroke="#16a34a"
     stroke-width="2.04205"
     fill="none"
     id="path1005" />
  <path
     d="m 162.9231,101.55726 v 4.22814 h 220.5765"
     stroke="#db2777"
     stroke-width="1.85169"
     fill="none"
     id="path1007" />
  <text
     x="86.716705"
     y="74.086708"
     font-family="system-ui, sans-serif"
     font-size="9px"
     fill="#6b7280"
     font-style="italic"
     id="text1009">← differ by 1 token</text>
  <!-- ===== STAGE 2: Theoretical trajectories ===== -->
  <text
     x="440"
     y="24"
     font-family="system-ui, sans-serif"
     font-size="12"
     font-weight="600"
     fill="#374151"
     id="text1011">② Trajectories (if completed)</text>
  <g
     transform="translate(440, 40)"
     id="g1031">
    <!-- Fork point -->
    <circle
       cx="30"
       cy="40"
       r="12"
       fill="#f3f4f6"
       stroke="#9ca3af"
       stroke-width="1.5"
       id="circle1013" />
    <text
       x="30"
       y="43"
       text-anchor="middle"
       font-family="system-ui, sans-serif"
       font-size="9"
       fill="#6b7280"
       id="text1015">h</text>
    <!-- Green trajectory up -->
    <path
       d="M 42 40 C 80 40, 120 15, 180 0"
       stroke="#16a34a"
       stroke-width="2.5"
       fill="none"
       opacity="0.6"
       marker-end="url(#arr-g)"
       id="path1017" />
    <text
       x="195"
       y="5"
       font-family="system-ui, sans-serif"
       font-size="10"
       fill="#16a34a"
       id="text1019">&quot;Paris&quot;</text>
    <!-- Pink trajectory down -->
    <path
       d="M 42 40 C 80 40, 120 65, 180 80"
       stroke="#db2777"
       stroke-width="2.5"
       fill="none"
       opacity="0.6"
       marker-end="url(#arr-p)"
       id="path1021" />
    <text
       x="195"
       y="85"
       font-family="system-ui, sans-serif"
       font-size="10"
       fill="#db2777"
       id="text1023">&quot;Berlin&quot;</text>
    <!-- Faint alternatives -->
    <g
       opacity="0.12"
       id="g1029">
      <path
         d="M 42 40 C 80 35, 120 5, 180 -10"
         stroke="#9ca3af"
         stroke-width="1.5"
         fill="none"
         id="path1025" />
      <path
         d="M 42 40 C 80 45, 120 75, 180 90"
         stroke="#9ca3af"
         stroke-width="1.5"
         fill="none"
         id="path1027" />
    </g>
  </g>
  <text
     x="440"
     y="140"
     font-family="system-ui, sans-serif"
     font-size="9"
     fill="#9ca3af"
     font-style="italic"
     id="text1033">(hypothetical - we don't generate)</text>
  <!-- Divider -->
  <line
     x1="20"
     y1="160"
     x2="700"
     y2="160"
     stroke="#e5e7eb"
     stroke-width="1"
     id="line1035" />
  <!-- ===== STAGE 3: Hidden states with VISUAL proportions ===== -->
  <text
     x="20"
     y="183"
     font-family="system-ui, sans-serif"
     font-size="12"
     font-weight="600"
     fill="#374151"
     id="text1037">③ Hidden states at last token</text>
  <g
     transform="translate(20, 200)"
     id="g1059">
    <!-- h_cho bar: large shared + small green crescent -->
    <text
       x="5.9322786"
       y="13.79412"
       font-family="system-ui, sans-serif"
       font-size="10px"
       fill="#166534"
       id="text1039">h_cho</text>
    <rect
       x="50"
       y="0"
       width="285"
       height="24"
       rx="4"
       fill="#e5e7eb"
       stroke="#9ca3af"
       stroke-width="1"
       id="rect1041" />
    <rect
       x="335"
       y="0"
       width="15"
       height="24"
       rx="0 4 4 0"
       fill="#dcfce7"
       stroke="#16a34a"
       stroke-width="1.5"
       id="rect1043" />
    <text
       x="192"
       y="16"
       text-anchor="middle"
       font-family="system-ui, sans-serif"
       font-size="9"
       fill="#6b7280"
       id="text1045">shared (~95%)</text>
    <!-- h_rej bar: large shared + small pink crescent -->
    <text
       x="7.5653987"
       y="51.472691"
       font-family="system-ui, sans-serif"
       font-size="10px"
       fill="#9d174d"
       id="text1047">h_rej</text>
    <rect
       x="50"
       y="36"
       width="285"
       height="24"
       rx="4"
       fill="#e5e7eb"
       stroke="#9ca3af"
       stroke-width="1"
       id="rect1049" />
    <rect
       x="335"
       y="36"
       width="15"
       height="24"
       rx="0 4 4 0"
       fill="#fce7f3"
       stroke="#db2777"
       stroke-width="1.5"
       id="rect1051" />
    <!-- Bracket showing the difference is small -->
    <path
       d="M 355 0 L 365 0 L 365 60 L 355 60"
       stroke="#d97706"
       stroke-width="1.5"
       fill="none"
       id="path1053" />
    <text
       x="375"
       y="34"
       font-family="system-ui, sans-serif"
       font-size="10"
       font-weight="600"
       fill="#92400e"
       id="text1055">Δh</text>
    <text
       x="375"
       y="48"
       font-family="system-ui, sans-serif"
       font-size="9"
       fill="#78350f"
       id="text1057">(~5%)</text>
  </g>
  <!-- Equation -->
  <g
     transform="translate(450, 205)"
     id="g1069">
    <rect
       x="0"
       y="0"
       width="230"
       height="55"
       rx="6"
       fill="#fef3c7"
       stroke="#d97706"
       stroke-width="1.5"
       id="rect1061" />
    <text
       x="115"
       y="20"
       text-anchor="middle"
       font-family="system-ui, sans-serif"
       font-size="11"
       fill="#374151"
       id="text1065"><tspan
   font-weight="600"
   fill="#92400e"
   id="tspan1063">Δh</tspan> = h_cho − h_rej
    </text>
    <text
       x="115"
       y="40"
       text-anchor="middle"
       font-family="system-ui, sans-serif"
       font-size="10"
       fill="#78350f"
       id="text1067">
      The only difference at training time
    </text>
  </g>
  <!-- Divider -->
  <line
     x1="20"
     y1="290"
     x2="700"
     y2="290"
     stroke="#e5e7eb"
     stroke-width="1"
     id="line1071" />
  <!-- ===== STAGE 4: The insight ===== -->
  <text
     x="20"
     y="313"
     font-family="system-ui, sans-serif"
     font-size="12"
     font-weight="600"
     fill="#374151"
     id="text1073">④ Insight</text>
  <g
     transform="translate(20, 325)"
     id="g1083">
    <rect
       x="0"
       y="0"
       width="680"
       height="42"
       rx="8"
       fill="#fef3c7"
       stroke="#d97706"
       stroke-width="1.5"
       id="rect1075" />
    <text
       x="340"
       y="16"
       text-anchor="middle"
       font-family="system-ui, sans-serif"
       font-size="11"
       fill="#374151"
       id="text1079">
      The two prefixes would generate different completions. But 
      <tspan
   font-weight="600"
   fill="#92400e"
   id="tspan1077">Δh</tspan> is the only difference →
    </text>
    <text
       x="340"
       y="34"
       text-anchor="middle"
       font-family="system-ui, sans-serif"
       font-size="11"
       font-weight="600"
       fill="#92400e"
       id="text1081">
      trajectory-selecting information must be encoded in Δh
    </text>
  </g>
</svg>
